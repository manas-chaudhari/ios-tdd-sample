//
//  {{ prefix }}{{ module_info.name }}{{ module_info.file_name }}
//  {{ module_info.project_name }}
//
//  Created by {{ developer.name }} on {{ date }}.
//  Copyright Â© {{ year }} {{ developer.company }}. All rights reserved.
//

import Quick
import Nimble
@testable
import {{ module_info.project_targets.first }}

class {{ module_info.name }}ModuleConfiguratorTests: QuickSpec {

    override func spec() {
        describe("configure") {
            var viewController: {{ module_info.name }}ViewController!
            var configurator: {{ module_info.name }}ModuleConfigurator!

            beforeEach {
                viewController = {{ module_info.name }}ViewController()
                configurator = {{ module_info.name }}ModuleConfigurator()
                configurator.configure(viewController: viewController)
            }

            var presenter: {{ module_info.name }}Presenter? {
                return viewController.output as? {{ module_info.name }}Presenter
            }

            var router: {{ module_info.name }}Router? {
                return presenter?.router as? {{ module_info.name }}Router
            }

            var interactor: {{ module_info.name }}Interactor? {
                return presenter?.interactor as? {{ module_info.name }}Interactor
            }

            it("should setup VIPER dependencies") {
                expect(presenter).toNot(beNil())
                expect(presenter?.view).toNot(beNil())

                expect(router).toNot(beNil())

                expect(interactor).toNot(beNil())
                expect(interactor?.output).toNot(beNil())
            }
        }
    }
}
